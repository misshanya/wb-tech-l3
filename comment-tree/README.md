# Comment Tree

Сервис древовидных комментариев

## Установка и запуск

1. Склонируйте репозиторий

    ```shell
    git clone https://github.com/misshanya/wb-tech-l3
    cd wb-tech-l3/comment-tree
    ```

2. Скопируйте .env.example в .env и отредактируйте значения под себя

    ```shell
    cp .env.example .env
    ```

3. Запустите через Docker Compose

    ```shell
    docker compose up -d
    ```

## Использование

**Фронтенд доступен на порту, указанном в .env как `FRONTEND_PORT`**, по умолчанию - 8084

**Бэкенд доступен на порту, указанном в .env как `SERVER_PORT`**, по умолчанию - 8083

### API

- Для создания комментария отправьте `POST` запрос на `/api/v1/comment` со следующим телом:

    ```json5
    {
      "content": "Классное видео!",
      "parent_id": "e7c19846-8574-43b1-8fec-010e7444eaf1" // ! Опционально - id "родителя" комментария для создания вложенности
    }
    ```

- Для получения комментария и всех вложенных отправьте `GET` запрос на `/api/v1/comment?parent_id={id}` (поддерживается пагинация через query параметры page и limit)

- Для удаления комментария и всех вложенных отправьте `DELETE` запрос на `/api/v1/comment/{id}`

- Для поиска по комментариям отправьте `GET` запрос на `/api/v1/comment/search?q={запрос}` (поддерживается пагинация через query параметры page и limit)